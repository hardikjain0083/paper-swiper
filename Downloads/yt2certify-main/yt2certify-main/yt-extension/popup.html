<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>YT Progress â€” Account</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="popup-container">
    <!-- Backend Status Indicator -->
    <div id="backend-status" class="backend-status checking" role="status" aria-live="polite">
      <span class="dot" aria-hidden="true"></span>
      <span id="status-text">Checking connection...</span>
    </div>
    
    <div class="tabs" id="tabs" data-active="auth" role="tablist" aria-label="Account Tabs">
      <div id="tab-auth" class="tab active" data-page="auth" role="tab" aria-selected="true" aria-controls="page-auth" tabindex="0">Sign In / Up</div>
      <div id="tab-dashboard" class="tab" data-page="dashboard" role="tab" aria-selected="false" aria-controls="page-dashboard" tabindex="-1">Dashboard</div>
      <div class="tab-indicator" aria-hidden="true"></div>
    </div>

    <!-- AUTH PAGE -->
    <div id="page-auth" role="tabpanel" aria-labelledby="tab-auth">
      <h2>Sign In / Sign Up</h2>
      <div class="form-row">
        <input id="input-name" type="text" placeholder="Full name (optional)" />
      </div>
      <div class="form-row">
        <input id="input-email" type="email" placeholder="Email (required)" />
      </div>
      <div class="form-row">
        <button id="btn-signup" class="primary" aria-live="polite">
          <span class="btn-text">Sign Up / Save Profile</span>
        </button>
      </div>
      <div class="form-row">
        <button id="btn-login" class="ghost">
          <span class="btn-text">Sign In</span>
        </button>
      </div>
      <div class="form-row small" id="auth-msg" role="status" aria-live="polite"></div>
    </div>

    <!-- DASHBOARD PAGE -->
    <div id="page-dashboard" style="display:none;" role="tabpanel" aria-labelledby="tab-dashboard">
      <h2>Your Progress</h2>
      <div class="section">
        <div class="small">Signed in as</div>
        <div id="user-info" style="margin:6px 0; font-weight:600;"></div>
        <div class="toggle-row" style="margin:10px 0;">
          <div>
            <div style="font-weight:600;">Tracking</div>
            <div class="small">Save progress from YouTube videos</div>
          </div>
          <button id="toggle-tracking" class="switch" role="switch" aria-checked="false" aria-label="Tracking">
            <span class="switch-track"><span class="switch-thumb"></span></span>
          </button>
        </div>
        <button id="btn-logout" class="ghost">Sign Out</button>
      </div>

      <div class="section">
        <h3 style="margin:10px 0 6px 0;">Completed Videos</h3>
        <div id="completed-list">
          <div class="list-skeleton" aria-hidden="true">
            <div class="skeleton-line" style="width:85%;"></div>
            <div class="skeleton-line" style="width:70%;"></div>
            <div class="skeleton-line" style="width:60%;"></div>
          </div>
        </div>
      </div>

      <div class="section">
        <h3 style="margin:10px 0 6px 0;">Playlists</h3>
        <div id="playlists-list">
          <div class="list-skeleton" aria-hidden="true">
            <div class="skeleton-line" style="width:75%;"></div>
            <div class="skeleton-line" style="width:65%;"></div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="popup.js"></script>
</body>
</html>
